<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">
	  <link rel="stylesheet" type="text/css" th:href="@{/lib/bootstrap-datepicker/css/datepicker.css}" />
	<th:block layout:fragment="customTitle">
				<title>예치금 정책 히스토리</title>
	</th:block>
	<th:block layout:fragment="Contents">
		<div id="container-header-title"><strong>거래기간히스토리</strong></div>
     	<div id="container-header-path">정책관리 > <a th:href="@{/policy/policyList}">정책리스트</a> >거래기간히스토리</div>
      	<div id="container-header-space"></div>
	
	
		<div class="col-md-12 mt">
            <div class="content-panel">
				<form>
					 <div class="input-group input-daterange col-lg-3">
   						<input type="text" class="form-control" name="startDate" >
  					 	<div class="input-group-addon">to</div>
					    <input type="text" class="form-control" name="endDate">
					</div>
					  <div><button>검색</button></div>				
				</form>
				              
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>거래종류</th>
                    <th>기간</th>
                    <th>적용일</th>
                    <th>등록자</th>
                    <th>등록일</th>
                  </tr>
                </thead>
    
                
                <tbody>
					<tr th:each="h, index:${tradeHistory}">
	                  	<td th:text="${index.count}"></td>
	                  	<td th:text="${h.sTradeType}"></td>
	                  	<td th:text="${h.sTradePeriod}"></td>
	                  	<td th:text="${h.sTradeApplies}"></td>
	                  	<td th:text="${h.mId}"></td>
	                    <td th:text="${h.sTradeDate}"></td>
	                 </tr>
                </tbody>
              </table>
            </div>
          </div>

	</th:block>
	<th:block layout:fragment="customScript">
		<script type="text/javascript">
			var policy = $('#policy');
			policy.addClass('active');
			policy.parent().find('.sub').css('display','block');
			policy.parent().find('.sub').children().eq(0).addClass('active');
		</script>
		
		<script th:src="@{/lib/jquery-ui-1.9.2.custom.min.js}"></script>
	  	<script type="text/javascript" th:src="@{/lib/bootstrap-datepicker/js/bootstrap-datepicker.js}"></script>
	 	<script th:src="@{/lib/advanced-form-components.js}"></script>
		
		<script>
			$("div .input-daterange").each(function(){
			    var $inputs = $(this).find('input');
			    $inputs.datepicker({ dateFormat: 'yy-mm-dd' });
			    if ($inputs.length >= 2) {
			        var $from = $inputs.eq(0);
			        var $to   = $inputs.eq(1);
			        $from.on('changeDate', function (e) {
			            var d = new Date(e.date.valueOf());
			            $to.datepicker('setStartDate', d); // 종료일은 시작일보다 빠를 수 없다.
			        });
			        $to.on('changeDate', function (e) {
			            var d = new Date(e.date.valueOf());
			            $from.datepicker('setEndDate', d); // 시작일은 종료일보다 늦을 수 없다.
			        });
			    }
			})
		</script>
	</th:block>
</html>