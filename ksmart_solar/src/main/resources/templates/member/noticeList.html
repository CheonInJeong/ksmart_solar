<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="layout/default">

	<th:block layout:fragment="customTitle">
		<title>공고 신청목록</title>
	</th:block>
	
	<th:block layout:fragment="Contents">
	
	
	<div id="container-header-title"><strong>공고 신청목록</strong></div>
	<div id="container-header-path">회원관리 > 공고 신청목록</div>
	<div id="container-header-space"></div>
		<div class="row mt">
          <div class="col-lg-12">
            <div class="content-panel" style="padding : 30px;">
				<h4><i class="fa fa-angle-right"></i> 공고 신청목록</h4>
				<div style="text-align : right; margin-bottom: 10px;">
	              <form th:action="@{/member/noticeList}">
	            	<select name="searchKey">
	            		<option value="mId">아이디</option>
	            	</select>
	            	<input type="text" placeholder="검색어" name="searchValue" th:value="${searchValue}">
	            	<input type="submit" value = "검색" class="btn btn-default btn-sm">
	               </form>
            	</div>
	              <section id="no-more-tables">
	              	<hr>
	                <table class="table table-condensed cf">
	                 	<thead class="cf">
							<tr>
			                    <th class="col-md-2">공고 코드</th>
			                    <th class="col-md-2"><i class="fa fa-bullhorn"></i> 공고 제목</th>
			                    <th class="col-md-2"><i class="fa fa-bullhorn"></i> 아이디</th>
			                    <th class="col-md-2">상태 </th>
							</tr>
						</thead>
		                <tbody>
		                	<th:block th:if="${bidPlantList != null}" th:each="l:${bidPlantList}">
			                	<tr>
				                    <td data-title="공고 코드" th:text="${l.bPlCode}"></td>
				                    <td data-title="공고 제목" style="text-align: left; padding-left: 20px;">
				                    	<a th:href="@{/member/getNotice(bPlCode=${l.bPlCode})}">[[${l.bPlTitle}]]</a>
				                    </td>
				                    <td data-title="아이디" th:text="${l.mId}"></td>
				                    <td data-title="상태">
										<a th:if="${l.acStatusCode == 1}" class="btn standardBtn" th:href="@{/member/getNotice(bPlCode=${l.bPlCode})}">상세보기</a>
										<span th:if="${l.acStatusCode != 1}">[[${l.bPlStatus}]]</span>
									</td>
			                	</tr>
		                	</th:block>
		                	<th:block th:if="${bidComponentList != null}" th:each="l:${bidComponentList}">
			                	<tr>
				                    <td data-title="공고 코드" th:text="${l.bCpCode}"></td>
				               		<td data-title="공고 제목" style="text-align: left; padding-left: 20px;">
				                    	<a th:href="@{/member/getNotice(bCpCode=${l.bCpCode})}">[[${l.bCpTitle}]]</a>
				                    </td>
				                    <td data-title="아이디" th:text="${l.mId}"></td>
				                    <td data-title="상태">
										<a th:if="${l.acStatusCode == 1}" class="btn standardBtn" th:href="@{/member/getNotice(bCpCode=${l.bCpCode})}">상세보기</a>
										<span th:if="${l.acStatusCode != 1}">[[${l.bCpStatus}]]</span>
									</td>
			                	</tr>
		                	</th:block>
		                	<th:block th:if="${bidPlantList == null && bidPlantList.size() == 0 && bidComponentList == null && bidComponentList.size() == 0}">
				                  <tr>
				                    <td colspan="5" style="text-align: center;">신청된 공고가 없습니다.</td>		                 
				                  </tr>
		                	</th:block>
		                </tbody>
	              </table>
				<div class="text-center">
				  <ul class="pagination">
				    <li>
				      <a th:if="${page.curBlock > 1}" th:href="@{/member/noticeList(curPage=${page.prevPage},searchKey=${searchKey},searchValue=${searchValue})}" aria-label="Previous">
				        <span aria-hidden="true">&laquo;</span>
				      </a>
				    </li>
			    	<th:block th:each="num : ${#numbers.sequence(page.blockBegin, page.blockEnd)}">
			   		<li th:if="${num == page.curPage}" class="active">
			   			<a>[[${num}]]</a>
			   		</li>
			   		<li th:unless="${num == page.curPage}">
			   		<th:block th:if="${num} != 0">
			   			<a th:href="@{/member/noticeList(curPage=${num},searchKey=${searchKey},searchValue=${searchValue})}">[[${num}]]</a>
			   		</th:block>
			   		</li>
			  		</th:block>
				    <li>
				      <a th:if="${page.curBlock <= page.totBlock}" th:href="@{/member/noticeList(curPage=${page.nextPage},searchKey=${searchKey},searchValue=${searchValue})}" aria-label="Next">
				        <span aria-hidden="true">&raquo;</span>
				      </a>
				    </li>
				  </ul>
				</div>
				</section>
				</div>
			</div>
		</div>
	</th:block>
	<th:block layout:fragment="customScript">
		<script type="text/javascript">
			var member = $('#member');
			member.addClass('active');
			member.parent().find('.sub').css('display','block');
			member.parent().find('.sub').children().eq(6).addClass('active');
		</script>
	</th:block>
</html>