<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="layout/default">

	<th:block layout:fragment="customTitle">
				<title>[[${member.mId}]] 회원정보</title>
	</th:block>
	
	
	<th:block layout:fragment="Contents">
	<div id="container-header-title"><strong>[[${member.mId}]] 회원정보</strong></div>
	<div id="container-header-path">회원관리 > <a th:href=@{/member/memberList}>회원리스트조회</a> > [[${member.mId}]] 회원정보</div>
	<div id="container-header-space"></div>
		<div class="row mt">
          <div class="col-lg-12">
            <div class="form-panel">
              <h4 class="mb"><i class="fa fa-angle-right"></i> [[${member.mId}]] 회원정보</h4>
              <hr>
              <form class="form-horizontal style-form">
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">프로필 사진</label>
                  <div class="col-sm-10">
	                  <div class="col-md-9">
	                    <div class="fileupload fileupload-new" data-provides="fileupload">
	                      <div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
	                        <img th:if="${member.mPhoto == null}" src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&text=no+image" alt="" />
	                        <img th:if="${member.mPhoto == ''}" src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&text=no+image" alt="" />
	                        <img th:if="${member.mPhoto != null}" th:src="${member.mPhoto}" alt="" />
	                      </div>
	                    </div>
	                  </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">아이디</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mId}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">이름</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mName}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">비밀번호</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mPw}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">권한</label>
                  <div class="col-lg-10">
                    <p class="form-control-static" th:if="${member.mLevel} == 1">관리자</p>
                    <p class="form-control-static" th:if="${member.mLevel} == 2">태양광사업자(판매자)</p>
                    <p class="form-control-static" th:if="${member.mLevel} == 3">재활용 중고 사업자(구매자)</p>
                    <p class="form-control-static" th:if="${member.mLevel} == 4">일반회원</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">우편번호</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mZipcode}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">도로명주소</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mAddr}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">상세주소</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mDetailAddr}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">연락처</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mPhone}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">이메일</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mEmail}]]</p>
                  </div>
                </div>
                <div class="form-group" th:if="${member.mLevel} == 2 or ${member.mLevel} == 3">
                  <label class="col-lg-2 col-sm-2 control-label">등록 사업장</label>
                  <div class="col-lg-10 col-sm-10">
                  	<th:block th:each="l : ${businessList}">
                  		<a th:href=@{/getBusinessInfoBybzCode(bzCode=${l.bzCode})}>
							<p th:if="${l.bzCheck = 'Y'}" class="form-control-static">[[${l.bzCompanyName}]]</p>
                  		</a>
                    </th:block>
                  </div>
                </div>
                <div class="form-group" th:if="${member.mLevel} == 2">
                  <label class="col-lg-2 col-sm-2 control-label">운영 발전소</label>
                  <div class="col-lg-10 col-sm-10">
                  	<th:block th:each="l : ${operPlantList}">
                  		<a th:href=@{/getPlantInfoBybzPlCode(bzPlCode=${l.bzPlCode})}>
							<p class="form-control-static">[[${l.bzPlName}]]</p>
                  		</a>
                    </th:block>
                  </div>
                </div>
                <div class="form-group" th:if="${member.mLevel} == 2">
                  <label class="col-lg-2 col-sm-2 control-label">보유 부품</label>
                  <div class="col-lg-10 col-sm-10">
                    <th:block th:each="l : ${componentList}">
							<p class="form-control-static">[[${l.cpName}]]</p>
                    </th:block>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">등록 계좌</label>
                  <div class="col-lg-10 col-sm-10">
	                  <th:block th:each="l : ${accountList}">
	                    <p th:if="${l.mAccountCheck == 'N'}" class="form-control-static"><del>([[${l.mAccountBank}]]) [[${l.mAccountNumber}]]</del></p>
	                    <p th:unless="${l.mAccountCheck == 'N'}" class="form-control-static">([[${l.mAccountBank}]]) [[${l.mAccountNumber}]]</p>
	                  </th:block>
                  </div>
                </div>
                <div class="form-group" th:if="${member.mLevel} == 2">
                  <label class="col-lg-2 col-sm-2 control-label">등록 공고</label>
                  <div class="col-lg-10 col-sm-10">
                  	<th:block th:each="l : ${plantList}">
						<p th:if="${l.bPlReCount == 0}" class="form-control-static">[[${l.bPlTitle}]]</p>
						<p th:if="${l.bPlReCount > 0}" class="form-control-static">[[${l.bPlTitle}]](재공고)</p>
                    </th:block>
                  </div>
                </div>
                <div class="form-group" th:if="${member.mLevel} == 3">
                  <label class="col-lg-2 col-sm-2 control-label">참여 공고</label>
                  <div class="col-lg-10 col-sm-10">

                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">회원가입일</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mSubDate}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">회원정보수정일</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mSubDateModify}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-lg-2 col-sm-2 control-label">회원상태변경일</label>
                  <div class="col-lg-10">
                    <p class="form-control-static">[[${member.mStateModifyDate}]]</p>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-lg-offset-2 col-lg-10">
                    <a class="btn standardBtn" th:href="@{/modifyMember(mId=${member.mId})}" role="button">수정</a>
                    <a class="btn standardBtn" th:href="@{/member/memberList}" role="button">목록이동</a>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!-- col-lg-12-->
        </div>
		
	</th:block>
	<th:block layout:fragment="customScript">
	
		<script type="text/javascript">
			var member = $('#member');
			member.addClass('active');
			member.parent().find('.sub').css('display','block');
			member.parent().find('.sub').children().eq(0).addClass('active');
		</script>
	</th:block>
</html>