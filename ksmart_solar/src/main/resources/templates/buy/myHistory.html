<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

	<th:block layout:fragment="customTitle">
				<title>나의 입찰 목록</title>
	</th:block>
	<th:block layout:fragment="Contents">
		<div id="container-header-title"><strong>나의 입찰 목록</strong></div>
		<div id="container-header-path">
			<a href="#" style="text-decoration: none;">구매관리 </a>>
			<a href="/buy/myHistory" style="text-decoration: none;"> 나의 입찰 목록</a>
		</div>
		<div id="container-header-space"></div>
		<div class="row mt">
          <div class="col-md-12 container">
            <div class="content-panel">
              <table class="table table-striped table-advance table-hover">
                <h4><i class="fa fa-angle-right"></i>입찰한 부품 공고</h4>
                <hr>
                <thead>
                  <tr>
                    <th class="col-md-1">번호</th>
                    <th class="col-md-5"><i class="fa fa-bullhorn"></i>공고 제목</th>
                    <th class="col-md-2"><i class="fa fa-bullhorn"></i>판매자</th>
                    <th class="col-md-2" style="width: 100px;"><i class="fa fa-question-circle"></i>나의 진행</th>
   	                <th class="col-md-1"><i class="fa fa-bookmark"></i>공고 진행</th>
       	            <th class="col-md-2"><i class="fa fa-bookmark"></i>입찰신청 날짜 </th>
                  </div>
                  </tr>
                </thead>
                <tbody>
                	<th:block th:if="${bidComponentList != null}" th:each="l:${bidComponentList}">
                		<th:block th:if="${bidPlantList != null}" th:each="j:${l.bidListDTOList}">
		                  <tr>
		                    <td th:text="${l.num=l.num+1}"></td>
		                    <td>
		                    	<form th:action="@{/notice/announcement}" method="post">
			                      	<a class="announceTitle">[[${l.bCpTitle}]]</a>
			                      	<input type="hidden" name="announceCode" th:value="${l.bCpCode}">
			                      	<input type="hidden" name="announceType" value="부품">
		                    	</form>
		                    </td>
		                    <td th:text="${l.mId}"></td>
		                    <td th:text="${j.trTypeName}"></td>
		                    <td th:text="${l.bCpStatus}"></td>
		                    <td th:text="${j.bDate}"></td>
		                  </tr>
		                  </th:block>
                	</th:block>
		                  <tr>
		                    <td>1</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다1</a>
			                      	<input type="hidden" name="status" value="입찰대기">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다1">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>입찰대기</td>
		                    <td>공고진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>2</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다2</a>
			                      	<input type="hidden" name="status" value="입찰성공">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다2">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>입찰성공</td>
		                    <td>공고진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>3</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다3</a>
			                      	<input type="hidden" name="status" value="입찰실패">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다3">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>입찰실패</td>
		                    <td>공고진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>4</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다4</a>
			                      	<input type="hidden" name="status" value="입찰취소">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다4">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>입찰취소</td>
		                    <td>공고진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>5</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다5</a>
			                      	<input type="hidden" name="status" value="입찰종료">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다5">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>입찰종료</td>
		                    <td>거래진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>6</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다6</a>
			                      	<input type="hidden" name="status" value="계약중">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다6">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>계약중</td>
		                    <td>거래진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>7</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다7</a>
			                      	<input type="hidden" name="status" value="계약대기">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다7">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>계약대기</td>
		                    <td>거래진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>8</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다8</a>
			                      	<input type="hidden" name="status" value="계약취소">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다8">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>계약취소</td>
		                    <td>거래진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
		                  <tr>
		                    <td>9</td>
		                    <td>
		                    	<form th:action="@{/buy/myAnnouncement}" method="post">
			                      	<a class="announceTitle">짱좋은 부품 팝니다9</a>
			                      	<input type="hidden" name="status" value="대금처리중">
			                      	<input type="hidden" name="title" value="짱좋은 부품 팝니다9">
		                    	</form>
		                    </td>
		                    <td>id002</td>
		                    <td>대금처리중</td>
		                    <td>거래진행중</td>
		                    <td>2021-02-14 12:23:25</td>
		                  </tr>
                	<!-- <th:block th:if="${bidComponentList==null || bidComponentList.size()==0}">
		                  <tr>
		                    <td colspan="6" style="text-align: center;">입찰 신청한 부품 공고가 없습니다.</td>		                 
		                  </tr>
                	</th:block> -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
		<div class="row mt">
          <div class="col-md-12 container">
            <div class="content-panel">
              <table class="table table-striped table-advance table-hover">
                <h4><i class="fa fa-angle-right"></i>입찰한 발전소 공고</h4>
                <hr>
                <thead>
                  <tr>
                    <th class="col-md-1">번호</th>
                    <th class="col-md-5"><i class="fa fa-bullhorn"></i>공고 제목</th>
                    <th class="col-md-2"><i class="fa fa-bullhorn"></i>판매자</th>
                    <th class="col-md-2" style="width: 100px;"><i class="fa fa-question-circle"></i>나의 진행</th>
   	                <th class="col-md-1"><i class="fa fa-bookmark"></i>공고 진행</th>
       	            <th class="col-md-2"><i class="fa fa-bookmark"></i>입찰신청 날짜 </th>
                  </div>
                  </tr>
                </thead>
                <tbody>
                	<th:block th:if="${bidPlantList != null}" th:each="l:${bidPlantList}">
	                	<th:block th:if="${bidPlantList != null}" th:each="j:${l.bidListDTOList}">
		                  <tr>
		                    <td th:text="${l.num=l.num+1}"></td>
		                    <td>
		                    	<form th:action="@{/notice/announcement}" method="post">
			                      	<a class="announceTitle">[[${l.bPlTitle}]]</a>
			                      	<input type="hidden" name="announceCode" th:value="${l.bPlCode}">
			                      	<input type="hidden" name="announceType" value="발전소">
		                    	</form>
		                    </td>
		                    <td th:text="${l.mId}"></td>
		                    <td th:text="${j.trTypeName}"></td>
		                    <td th:text="${l.bPlStatus}"></td>
		                    <td th:text="${j.bDate}"></td>
		                  </tr>
	                	</th:block>
                	</th:block>
                	<th:block th:if="${bidPlantList==null || bidPlantList.size()==0}">
		                  <tr>
		                    <td colspan="6" style="text-align: center;">입찰 신청한 발전소 공고가 없습니다.</td>		                 
		                  </tr>
                	</th:block>
                </tbody>
              </table>
            </div>
          </div>
        </div>
	</th:block>
	<th:block layout:fragment="customScript">
		<script type="text/javascript">
			var buy = $('#buy');
			buy.addClass('active');
			buy.parent().find('.sub').css('display','block');
			buy.parent().find('.sub').children().eq(0).addClass('active');
			
			$('.announceTitle').click(function(){
				$(this).parent().submit();
			});
		</script>
	</th:block>
</html>