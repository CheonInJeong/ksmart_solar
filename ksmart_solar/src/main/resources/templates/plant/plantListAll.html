<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

	<th:block layout:fragment="customTitle">
		<title>발전소 리스트</title>
	</th:block>
	<th:block layout:fragment="Contents">
		<div hidden="">
			스크립트에서 사용하기 위한 세션 변수 세팅
			<div id="sessionID" th:data-session-id="${session.SID}"></div>
			<div id="sessionNAME" th:data-session-name="${session.SNAME}"></div>
			<div id="sessionLEVEL" th:data-session-level="${session.SLEVEL}"></div>
		</div>
		<div id="container-header-title"><strong>발전소 리스트</strong></div>
		<div id="container-header-path">
			<a href="/" style="text-decoration: none; color: #000;">메인화면 </a>>
			<a href="/plant/plantList" style="text-decoration: none; color: #000;"> 내 발전소 관리 </a>>
			<a href="/plant/plantList" style="text-decoration: none; color: #000;"> 발전소 리스트 </a>
		</div>
		<div id="container-header-space"></div>
		<div class="row mt col-xs-12" style="padding-bottom: 30px; margin:0 auto; color: #111; font-size: 17px;">
			<div class="content-panel" style="min-height: 70vh; padding: 5vh 5% 5vh 5%; overflow:auto; ">
				<h1> 관리자가 보는 페이지 </h1>
				<h2> 검색 조건 입력란</h2>
				<div th:if="${#lists.size(plantListById) > 0}" th:each="l : ${plantListById}">
				  <div class="col-sm-6 col-md-3">
				    <div class="thumbnail">							
					  <a class=""><img alt="발전소 사진" th:src="${l.bzPlPhoto}" class="plantImg" th:data-bzCode="${l.bzPlCode}" style="min-height: 150px;"></a>
				      <div class="caption">
				        <h3>[[${l.bzPlName}]]</h3>
				        <div>
				        	<div>
				        		<strong>발전소용량</strong>
				        		<p>[[${l.bzPlPower}]]</p>
				        	</div>
				        	<div>
				        		<strong>발전소주소</strong>
				        		<p>([[${l.bzPlZipcode}]]) [[${l.bzPlAddr}]] [[${l.bzPlDetailAddr}]]</p>
				        	</div>
				        </div>
				        <div>
				        </div>
				      </div>
				    </div>
				  </div>
				</div>
				<div th:unless="${#lists.size(plantListById) > 0}">
				조회된 내용이 없습니다.
				</div>
			</div>
		</div>
	<th:block layout:fragment="customScript">
		<script type="text/javascript">
			
			$('.plantImg').click(function(){
				var code = $(this).attr('data-bzCode');
				location.href="/plant/plantDetail?bzCode="+code;

			});
		
		
		
			$(document).ready(function(){
				var sessionID = $('#sessionID').attr('data-session-id');
				var sessionNAME = $('#sessionNAME').attr('data-session-name');
				var sessionLEVEL = $('#sessionLEVEL').attr('data-session-level');
				if(sessionLEVEL == '관리자'){
					
				}else if(sessionLEVEL == '태양광사업자'){
					
				}else if(sessionLEVEL == '일반사업자'){
					//메인화면으로 이동
					document.location.href = '/';
				}else if(sessionLEVEL == '일반회원'){
					//메인화면으로 이동
					document.location.href = '/';
				}else{
					//메인화면으로 이동
					document.location.href = '/';
				}
			});
			$('#plantDetailMove').click(function(){
				document.location.href = '/plant/plantDetail';
			});
			
			
			$('.plantImg').click(function(){
				console.log(this);
				
			});
			
		</script>
	</th:block>
	
</html>