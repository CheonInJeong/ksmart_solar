<!DOCTYPE html>
<html xmlns:th="http://www.tyhmeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/default">

<th:block layout:fragment="customTitle">
	<title>문의사항 답글</title>
</th:block>

<th:block layout:fragment="customCss">
</th:block>

<th:block layout:fragment="Contents">
	<div id="container-header-title">
		<strong>문의사항 답글</strong>
	</div>
	<div id="container-header-path">
	<!-- <a href="/" style="text-decoration: none;"> 메인화면 </a>> 고객센터 >
   	<a href="/help/qna" style="text-decoration: none;"> 문의사항 </a>>
   	<a href="help/addQna" style="text-decoration: none;"> 문의사항 답글 </a>
	 -->
	고객센터 > 문의사항 > 문의사항 답글</div>
	<div id="container-header-space"></div>

	<div class="row mt">
		<div class="col-lg-12">
			 <div class="content-panel" style="padding: 30px;">
				<h4 class="mb">
					<i class="fa fa-angle-right"></i>문의사항 답글
				</h4>
				<form th:action="@{/help/addReQna}" method="post" class="form-horizontal style-form">
					<input type="hidden" name="bQnaIdx" th:value=${boardQnaDTO.bQnaIdx}>
					<input type="hidden" name="mId" th:value="${session.SID}">
					<input type="hidden" name="bQnaReLev" th:value="${boardQnaDTO.bQnaReLev}">
					<input type="hidden" name="bQnaReSeq" th:value="${boardQnaDTO.bQnaReSeq}">
					<div class="form-group">
						<label class="col-sm-2 col-sm-2 control-label">문의제목</label>
						<div class="col-lg-10">
							<input type="text" readonly="readonly" name="bQnaSubject" value="  ┗답변드리겠습니다. 고객님" class="form-control">
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 col-sm-2 control-label">문의내용</label>
						<div class="col-lg-10">
							<textarea name="bQnaContents" rows="30" class="form-control">[[${boardQnaDTO.bQnaContents}]]</textarea>
						</div>
					</div>
					
					<div class="form-group">
						<label class="col-sm-2 col-sm-2 control-label">비밀글 여부</label>
						<div class="col-lg-10">
							<label> Y <input type="radio" value="Y" name="bQnaOpen" th:checked="${boardQnaDTO.bQnaOpen == 'Y'}" checked onclick="return(false);">
							</label> 
							<label> N <input type="radio" value="N" name="bQnaOpen" th:checked="${boardQnaDTO.bQnaOpen == 'N'}" checked onclick="return(false);">
							</label>
						</div>
					</div>
						<div id="password" class="form-group" th:if="${boardQnaDTO.bQnaOpen == 'Y'}">
							<label class="col-sm-2 col-sm-2 control-label">비밀글 암호</label>
							<div class="col-lg-10">
								<input type="text" name="bQnaPassword" class="form-control">
							</div>
						</div>

						<div class="form-group">
							<div class="col-lg-offset-2 col-lg-10">
								<a class="btn btn-primary" th:href="@{/help/qna}">목록</a> <a
									class="btn btn-info" th:href="@{/help/addNotice}">임시저장</a>
							</div>
						</div>
						<div style="text-align: center">
							<button id="qnaBtn" type="submit" class="btn btn-success">등록</button>
						</div>
				</form>
			</div>
		</div>
	</div>
</th:block>

<th:block layout:fragment="customScript">


	<script th:inline="javascript">
		
		//비밀글 암호 오픈,클로즈
		$('input[name=bQnaOpen]').on('change', function() {
			var bQnaOpenValue = $('input[name=bQnaOpen]:checked').val();
			
			if (bQnaOpenValue == 'Y') {
			$('#password').css('display', 'block');
			return false;
			} else if (bQnaOpenValue == 'N') {
			$('#password').css('display', 'none');
			return false;
			}
		});
	
		//메뉴탭
		var help = $('#help');
		help.addClass('active');
		help.parent().find('.sub').css('display', 'block');
		help.parent().find('.sub').children().eq(1).addClass('active');
		
		//유효성검사
		 $('#qnaBtn').click(function(){
			if($('[name="bQnaContents"]').val()==''){
				alert('문의내용을 입력해주세요.')
				$('[name="bQnaContents"]').focus();
				return false;
			}if($('[name="bQnaOpen"]:checked').length==0){
				alert('비밀글여부를 선택해주세요.')
				$('[name="mEmail"]').focus();
				return false;
			}if($('[name="bQnaPassword"]').val()==''){
				alert('비밀글암호를 입력해주세요.')
				$('[name="mZipcode"]').focus();
				return false;
			}
		 })		
	
	</script>
</th:block>
</html>